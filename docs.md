# Developer Documentation ğŸ‘¨â€ğŸ’»

This document provides technical details, architectural overview, and contribution guidelines for the Flutter Local Wi-Fi Share project.

## ğŸ— Architecture

The application utilizes a **Hybrid Architecture** to ensure maximum compatibility:

1.  **Embedded HTTP Server (`ServerService`)**:
    -   Uses `package:shelf` to run a lightweight HTTP server inside the Flutter app.
    -   Serves static web assets (`HTML/CSS/JS`) to browsers.
    -   Exposes REST endpoints (`GET /api/files`, `POST /upload`) for data transfer.
    -   Handles multipart form data for file uploads via `package:shelf_multipart`.

2.  **Service Discovery (`BonsoirServiceWrapper`)**:
    -   Uses `package:bonsoir` (Zeroconf/mDNS) to broadcast presence (`_fluttershare._tcp`).
    -   Listens for other peers on the network to populate the "Nearby Devices" list.

3.  **Cross-Platform UI**:
    -   Built with Flutter Material 3 widgets.
    -   Responsive design adapting to mobile and desktop form factors.

## ğŸ“‚ Project Structure

```
lib/
â”œâ”€â”€ main.dart             # Application entry point
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ server_service.dart   # HTTP Server logic (Shelf)
â”‚   â””â”€â”€ bonsoir_service.dart  # Discovery logic (Bonsoir)
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ home_screen.dart      # Main UI with device list and downloaded files
â”‚   â””â”€â”€ device_screen.dart    # Interaction with a specific remote device
assets/
â””â”€â”€ web/                  # Web Interface Source
    â”œâ”€â”€ index.html
    â”œâ”€â”€ style.css
    â””â”€â”€ script.js
```

## ğŸ”§ Setup & Configuration

### Dependencies
-   `shelf`, `shelf_router`, `shelf_static`, `shelf_multipart`: HTTP Server.
-   `url_launcher`: Opening URLs.
-   `bonsoir`: Local network discovery.
-   `file_picker`: System file selection.
-   `network_info_plus`: Local IP retrieval.
-   `permission_handler`: Runtime permissions.
-   `open_filex`: Opening downloaded files on the system.
-   `http`: Client for app-to-app data transfer.
-   `path_provider`: Accessing app document directories.
-   `device_info_plus`: Better device identification for discovery.
-   `receive_sharing_intent`: Handling files shared from other apps.

### Platform Specifics

#### Android (`AndroidManifest.xml`)
Requires the following permissions:
-   `INTERNET`
-   `ACCESS_WIFI_STATE`, `CHANGE_WIFI_MULTICAST_STATE`
-   `READ_EXTERNAL_STORAGE` / `READ_MEDIA_*`
-   `NEARBY_WIFI_DEVICES` (Android 13+)

#### iOS (`Info.plist`)
Requires:
-   `NSLocalNetworkUsageDescription`: For Bonsoir discovery.
-   `NSBonjourServices`: Entry for `_fluttershare._tcp`.

#### macOS (`Release.entitlements`)
To function correctly in Release mode (App Sandbox), you must add:
-   `com.apple.security.network.client`: true
-   `com.apple.security.network.server`: true
-   `com.apple.security.files.user-selected.read-write`: true

## ğŸš€ Release Preparation

### Android
- **Package Name**: `com.ritom.flutter_share`
- **Signing**: Configured via `android/key.properties` and `android/app/upload-keystore.jks`.
- **Obfuscation**: R8 enabled with `isMinifyEnabled = true` and `isShrinkResources = true`.
- **Icon**: Generated using `flutter_launcher_icons` from `android/flutter_share.png`.

## ğŸ‘¥ Contributors

-   **Ritom** - *Lead Developer*
-   **Antigravity** - *AI Pair Programmer*

## ğŸ¤ Contributing

1.  Fork the repository.
2.  Create a feature branch (`git checkout -b feature/amazing-feature`).
3.  Commit your changes (`git commit -m 'Add amazing feature'`).
4.  Push to the branch.
5.  Open a Pull Request.

---
*Documentation generated by Antigravity*
